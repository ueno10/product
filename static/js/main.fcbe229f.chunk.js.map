{"version":3,"sources":["index.js"],"names":["render","useState","data","setData","ministryColor","item","useEffect","window","fetch","then","response","json","companies","Set","add","name","array","company","ministries","ministry","console","log","array2","bureaus","bureau","array3","departments","department","array4","sum","amount","push","children","color","className","map","style","width","height","margin","top","right","bottom","left","identity","value","cornerRadius","borderWidth","borderColor","colors","childColor","from","modifiers","animate","motionStiffness","motionDamping","isInteractive","document","querySelector"],"mappings":"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","file":"static/js/main.fcbe229f.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { render } from 'react-dom'\nimport { ResponsiveSunburst } from '@nivo/sunburst'\n\n\n \nconst App = () => {\n  const [data, setData] = useState([])\n\n  const ministryColor = (item) => {\n    if(item === \"内閣府\") {\n      return \"hsl(20, 70%, 50%)\"\n    }\n    if(item === \"厚生労働省\") {\n      return \"hsl(40, 70%, 50%)\"\n    }\n    if(item === \"国土交通省\") {\n      return \"hsl(60, 70%, 50%)\"\n    }\n    if(item === \"外務省\") {\n      return \"hsl(90, 70%, 50%)\"\n    }\n    if(item === \"復興庁\") {\n      return \"hsl(120, 70%, 50%)\"\n    }\n    if(item === \"文部科学省\") {\n      return \"hsl(160, 70%, 50%)\"\n    }\n    if(item === \"環境省\") {\n      return \"hsl(240, 70%, 50%)\"\n    }\n    if(item === \"経済産業省\") {\n      return \"hsl(200, 70%, 50%)\"\n    }\n    if(item === \"総務省\") {\n      return \"hsl(180, 70%, 50%)\"\n    }\n    if(item === \"警察庁\") {\n      return \"hsl(300, 70%, 50%)\"\n    }\n    if(item === \"防衛省\") {\n      return \"hsl(360, 70%, 50%)\"\n    }\n    if(item === \"個人情報保護委員会\") {\n      return \"hsl(350, 70%, 50%)\"//\"lightcoral\"\n    }\n    if(item === \"財務省\") {\n      return \"hsl(220, 70%, 50%)\"\n    }\n    if(item === \"法務省\") {\n      return \"hsl(45, 70%, 50%)\"\n    }\n    if(item === \"農林水産省\") {\n      return \"hsl(140, 70%, 50%)\"\n    }\n    if(item === \"原子力規制委員会\") {\n      return \"hsl(95, 20%, 60%)\"\n    }\n\n\n  }\n\n  useEffect(() => {\n    window\n      .fetch('data.json')\n      .then((response) => response.json())\n      .then((data) =>{\n        const companies = new Set()\n        for(const item of data) {\n          companies.add(item.name)\n        }\n\n        const array =[]\n        for(const company of companies) {\n          const ministries = new Set()\n          for(const item of data) {\n            if(item.name === company) {\n              ministries.add(item.ministry)\n            }\n          }\n          console.log(ministries)\n\n          const array2 = []\n          for(const ministry of ministries) {\n            const bureaus = new Set()\n            for(const item of data) {\n              if(item.ministry === ministry) {\n                bureaus.add(item.bureau)\n              }\n            }\n            const array3 = []\n            for(const bureau of bureaus) {\n              const departments = new Set()\n              for(const item of data) {\n                if(item.bureau === bureau) {\n                  departments.add(item.department)\n                }\n              } \n              const array4 = []\n              for(const department of departments) {\n                let sum = 0\n                for(const item of data)  {\n                  if(item.name === company && item.ministry === ministry && item.bureau === bureau && item.department === department) {\n                    sum += item.amount\n             \n                  }\n                }\n                array4.push({name:department, amount:sum})\n              }\n              array3.push({name:bureau,  children: array4})\n            }\n            array2.push({name:ministry, color:ministryColor(ministry), children:array3})\n          }\n\n          array.push({name:company,children:array2})\n\n        }\n        \n        setData(array)\n      })\n\n  }, [])\n  console.log(data)\n  return (\n    <>\n        <section className=\"section\">\n          <div className=\"container\">\n            <div className=\"content has-text-centered\">\n              <h3>2019年度尾上ゼミ 情報科学講究1 課題制作</h3>\n              <h1>タイトル</h1>\n              <p>これはデータの説明です。</p>\n              <p>これは可視化の説明です。</p>\n              {\n                data.map((data) => {\n                  return(\n                     <div style={{width: '600px', height: '600px'}} > \n                       <ResponsiveSunburst\n                        data={data}\n                        margin={{ top: 40, right: 20, bottom: 20, left: 20 }}\n                        identity=\"name\"\n                        value=\"amount\"\n                        cornerRadius={2}\n                        borderWidth={1}\n                        borderColor=\"white\"\n                        colors={(item) => item.color}\n                        childColor={{ from: 'color', modifiers: [] }}\n                        animate={true}\n                        motionStiffness={90}\n                        motionDamping={15}\n                        isInteractive={true}\n                       />\n                      </div>\n                  )\n                })\n              }\n              <p>これは可視化結果の考察です。</p>\n            </div>\n          </div>\n        </section>\n        <footer className=\"footer\">\n          <div className=\"content has-text-centered\">\n            <p>&copy;2020 上野瑞貴, 出口翼, 野村理紗</p>\n          </div>\n        </footer>\n    </>\n  )\n}\n\nrender(<App />, document.querySelector('#content'))\n"],"sourceRoot":""}